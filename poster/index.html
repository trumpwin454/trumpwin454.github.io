<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Flyer Post</title>
    <link rel="stylesheet" href="styles.css"> <!-- Link to the external CSS file -->
    <script src="https://cdn.jsdelivr.net/npm/marked/lib/marked.min.js"></script>
</head>
<body>

    <div class="container">
        <!-- Header Image Section -->
        <div class="header-image">
            <img src="./image/dream.jpeg" alt="Event Poster" class="header-image-img">
        </div>
        
        <!-- Description Section -->
        <div class="description" id="description-container"></div>
        
        <!-- Google Map -->
        <div class="map">
            <h1>Location</h1>
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3153.943246870547!2d144.96315731550467!3d-37.81421797975164!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6ad65d563c3b197f%3A0x5045675218ce6e0!2sFederation%20Square!5e0!3m2!1sen!2sau!4v1625545367427!5m2!1sen!2sau" width="100%" height="400" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
        </div>
    </div>

    <script>
        // Function to fetch the Markdown file and render it as HTML
        async function loadMarkdown() {
            try {
                // Await the fetch and wait for the response
                const response = await fetch(`description/detail.md`);
                
                // If the response is not okay, throw an error
                if (!response.ok) {
                    throw new Error('Failed to fetch the Markdown file');
                }

                // Await and get the text content of the response
                const data = await response.text();

                // Convert Markdown to HTML
                const htmlContent = marked.parse(data);

                // Inject the HTML into the description container
                document.getElementById('description-container').innerHTML = htmlContent;
            } catch (error) {
                // Log error and display fallback message if fetching fails
                console.error('Error loading the Markdown file:', error);
                document.getElementById('description-container').innerHTML = '<p>Sorry, we couldn\'t load the event description. Please try again later.</p>';
            }
        }
        window.onload = loadMarkdown;
    </script>

</body>
</html>
